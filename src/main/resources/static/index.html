<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no">
<title>爪哇部落抽奖</title>
<style>
	@charset "UTF-8";
* {
	margin: 0;
	padding: 0;
}
html, 
body {
	height: 100%;
	position: relative;
	width: 100%;
}
body {
	background: #eee;
}

canvas {
	background: white;
	display: block;
}

#c {
	left: 50%;
	position: absolute;
	top: 50%;
	transform: translate(-50%, -50%);
}
#con{
	z-index: 10;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, 100px);
}
#ajax-btn{
	width: 350px;
	height: 100px;
	margin: 0px auto;
	background: #FBD971;
	color: #E64C3C;
	line-height: 100px;
	text-align: center;
	font-size: 60px;
	border-radius: 50px;
	box-shadow: inset 0 4px 5px #E64C3C,inset 0 -4px 5px #FB7B76,0 5px 16px #F0C419;
	text-shadow: 0 4px 5px #E64C3C;
	transition: 0.1s;
	animation: pulse 0.5s linear infinite;
	border: 5px solid #fff;
}
#ajax-btn:link {
    filter: saturate(100%);
}
#ajax-btn:visted {
    filter: saturate(150%);
}
#ajax-btn:hover {
    filter: saturate(150%);
    box-shadow: inset 0 4px 5px #E64C3C,inset 0 -4px 5px #FB7B76,0 2px 2px #F0C419;
    transform: translate(0,3px);
}
#ajax-btn:active {
    filter: saturate(150%);
    box-shadow: inset 0 4px 5px #E64C3C,inset 0 -4px 5px #FB7B76,0 2px 2px #F0C419;
    transform: translate(0,3px);
}
#para{
	color: #fff;
	display: none;
	animation: pulse 0.5s linear infinite;
	font-size: 45px;
	text-shadow: 0 3px 5px white;
}
h1{
	font-size: 50px;
	text-shadow: 0px 4px 12px #fff;
	color: #fff;
	animation: pulse 0.5s linear infinite;
	text-shadow: 0 3px 5px white;
}
@keyframes pulse {
  from {
    transform: scale3d(1, 1, 1);
  }

  50% {
    transform: scale3d(1.05, 1.05, 1.05);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
}

@keyframes tada {
  from {
    transform: scale3d(1, 1, 1);
  }

  10%, 20% {
    transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);
  }

  30%, 50%, 70%, 90% {
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);
  }

  40%, 60%, 80% {
    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);
  }

  to {
    transform: scale3d(1, 1, 1);
  }
}
.imgs{
	position: absolute;
	top: 50%;
	left: 50%;
	animation: tada 1s linear infinite 4s;
}
.icon{
	height: 300px;
	width: 300px;
	z-index: 1;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -70%);
	display: none;
}
#hongbao{
	transform: translate(-46%, -70%);
}
</style>
</head>
<body>

<canvas id="c"></canvas>
<div class="imgs">
  <svg style="display:none" t="1508761030000" id="hongbao" class="icon"  viewBox="0 0 1041 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4197" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M42.139152 313.896081s2.492768-0.262465 3.80509 1.312323c1.312323 1.706667 3.01899 24.806141 9.05697 31.105293 6.03798 6.300444 30.580364 2.756525 30.580364 11.026101 0 6.562909-22.706424 7.34901-30.448485 13.649455-7.743354 6.299152-3.281455 33.074424-12.731475 32.023272-7.34901-0.787394-2.231596-22.048323-11.287273-30.580363-9.055677-8.530747-31.105293-6.824081-31.105292-14.568728 0-7.743354 22.574545-3.01899 30.319191-11.812202 7.611475-8.662626 4.328727-32.155152 11.81091-32.155151z" fill="#FFBA5A" p-id="4198"></path><path d="M869.002343 127.260444s1.706667-0.131879 2.62594 0.91798c0.91798 1.051152 2.099717 16.668444 6.169858 20.999758 4.068848 4.331313 20.605414 1.837253 20.605415 7.480889 0 4.463192-15.356121 4.988121-20.605415 9.187555-5.250586 4.33002-2.231596 22.312081-8.662626 21.655273-4.986828-0.524929-1.442909-14.831192-7.612768-20.605414-6.168566-5.774222-20.999758-4.593778-20.999757-9.843071 0-5.250586 15.224242-2.10101 20.474828-8.007111 5.249293-5.904808 3.017697-21.785859 8.004525-21.785859z" fill="#E94151" p-id="4199"></path><path d="M997.624242 413.513697s2.500525-0.262465 3.944728 1.442909c1.433859 1.706667 3.017697 25.200485 9.182384 31.631515 6.164687 6.43103 30.974707 2.755232 30.974707 11.155394 0 6.693495-23.096889 7.480889-30.974707 13.911919-7.879111 6.43103-3.417212 33.599354-12.997819 32.549495-7.479596-0.787394-2.231596-22.312081-11.413979-30.973414-9.19402-8.662626-31.632808-6.957253-31.632809-14.831192 0-7.875232 22.967596-3.01899 30.716122-12.074666 7.998061-9.05697 4.721778-32.81196 12.201373-32.81196z" fill="#FF0000" p-id="4200"></path><path d="M170.237414 127.260444z m-25.987879 0c0 14.306263 11.680323 25.986586 25.986586 25.986586s25.986586-11.680323 25.986586-25.986586-11.680323-25.986586-25.986586-25.986585c-14.436848 0-25.986586 11.680323-25.986586 25.986585z m725.147152 231.259798z m-25.593535 0c0 14.174384 11.549737 25.592242 25.593535 25.592243 14.174384 0 25.724121-11.549737 25.724121-25.592243 0-14.174384-11.549737-25.725414-25.724121-25.725414-14.174384 0.131879-25.593535 11.55103-25.593535 25.725414z" fill="#FFEB00" p-id="4201"></path><path d="M157.505939 343.033535c0 98.830222 147.392646 178.89099 329.170748 178.89099 181.779394 0 329.170747-80.060768 329.170747-178.89099s-147.259475-178.760404-329.038868-178.760404c-181.911273-0.001293-329.302626 80.060768-329.302627 178.760404z" fill="#DB1717" p-id="4202"></path><path d="M666.749414 373.744485z m-119.435636 0c0 66.01697 53.549253 119.435636 119.435636 119.435636 66.01697 0 119.435636-53.549253 119.435637-119.435636s-53.550545-119.435636-119.435637-119.435637c-66.018263 0-119.435636 53.418667-119.435636 119.435637z" fill="#F4AC51" p-id="4203"></path><path d="M666.749414 373.744485z m-100.010667 0c0 35.700364 19.030626 68.774788 50.005334 86.623677a100.085657 100.085657 0 0 0 100.011959 0c30.974707-17.848889 50.005333-50.923313 50.005334-86.623677 0-35.700364-19.030626-68.774788-50.005334-86.623677a100.085657 100.085657 0 0 0-100.011959 0c-30.974707 17.850182-50.005333 50.924606-50.005334 86.623677z" fill="#F4E376" p-id="4204"></path><path d="M706.517333 386.870303h-29.792969v-20.737293h29.792969c5.513051 0 9.844364-4.463192 9.844364-9.844364 0-5.511758-4.463192-9.843071-9.844364-9.84307H689.455838l10.894223-18.768162c2.624646-4.724364 0.91798-10.631758-3.674505-13.256404-4.593778-2.624646-10.631758-1.181737-13.38699 3.413333l-16.537859 28.218182-16.275394-28.35006c-2.755232-4.593778-8.793212-6.168566-13.38699-3.412041-4.593778 2.624646-6.300444 8.530747-3.675798 13.255111l10.762344 18.768162h-17.062788c-5.513051 0-9.844364 4.463192-9.844364 9.844364 0 5.511758 4.463192 9.843071 9.844364 9.84307h29.79297v20.737293h-29.79297c-5.513051 0-9.844364 4.461899-9.844364 9.843071 0 5.513051 4.463192 9.844364 9.844364 9.844364h29.79297v18.111353c0 5.513051 4.463192 9.843071 9.844363 9.843071 5.511758 0 9.843071-4.461899 9.843071-9.843071v-18.111353h29.794262c3.543919 0 6.824081-1.837253 8.530748-4.988122a10.101657 10.101657 0 0 0 0-9.84307c-1.706667-2.756525-4.856242-4.724364-8.400162-4.724364M306.735838 373.744485z m-119.436929 0c0 66.01697 53.549253 119.435636 119.435636 119.435636 66.01697 0 119.435636-53.549253 119.435637-119.435636s-53.550545-119.435636-119.435637-119.435637c-65.886384 0-119.435636 53.418667-119.435636 119.435637z" fill="#F4AC51" p-id="4205"></path><path d="M306.735838 373.744485z m-100.011959 0c0 35.700364 19.030626 68.774788 50.005333 86.623677a100.085657 100.085657 0 0 0 100.01196 0c30.974707-17.848889 50.006626-50.923313 50.006626-86.623677 0-55.255919-44.75604-100.01196-100.01196-100.01196-55.255919 0.001293-100.01196 44.75604-100.011959 100.01196z" fill="#F4E376" p-id="4206"></path><path d="M346.503758 386.870303h-29.794263v-20.737293h29.794263c5.511758 0 9.843071-4.463192 9.84307-9.844364 0-5.511758-4.463192-9.843071-9.84307-9.84307h-17.062788l10.894222-18.768162c2.625939-4.724364 0.91798-10.631758-3.675798-13.256404-4.593778-2.624646-10.630465-1.181737-13.38699 3.413333l-16.275394 28.350061-16.274101-28.350061c-2.755232-4.595071-8.793212-6.168566-13.38699-3.413333-4.595071 2.625939-6.300444 8.53204-3.674505 13.256404l10.892929 18.768162h-17.061495c-5.511758 0-9.843071 4.463192-9.84307 9.84307 0 5.513051 4.461899 9.844364 9.84307 9.844364h29.794263v20.737293h-29.794263c-5.511758 0-9.843071 4.461899-9.84307 9.843071 0 5.513051 4.461899 9.843071 9.84307 9.84307h29.794263v18.112647c0 5.511758 4.461899 9.843071 9.843071 9.843071 5.513051 0 9.844364-4.461899 9.844363-9.843071v-18.112647h29.530506c3.543919 0 6.824081-1.83596 8.530747-4.986828a10.104242 10.104242 0 0 0 0-9.844363c-1.70796-2.887111-4.988121-4.854949-8.53204-4.85495z" fill="#F4AC51" p-id="4207"></path><path d="M316.841374 323.346101c0 93.842101 76.123798 169.835313 169.965899 169.835313s169.967192-75.993212 169.967192-169.835313-76.125091-169.83402-169.967192-169.83402-169.965899 75.990626-169.965899 169.83402z" fill="#FFBA5A" p-id="4208"></path><path d="M486.807273 323.346101z m-142.272647 0c0 50.792727 27.168323 97.780364 71.13697 123.111434 43.967354 25.461657 98.172121 25.461657 142.272646 0 43.967354-25.461657 71.135677-72.318707 71.135677-123.111434 0-78.48598-63.654788-142.272646-142.272646-142.272646s-142.272646 63.654788-142.272647 142.272646z" fill="#FFF48D" p-id="4209"></path><path d="M543.244929 342.114263h-42.393858v-29.530505h42.393858c7.743354 0 14.043798-6.299152 14.043798-14.043798 0-7.743354-6.299152-14.043798-14.043798-14.043798h-24.281212l15.356121-26.643394a14.059313 14.059313 0 0 0-5.381171-18.768162c-6.562909-3.806384-14.963071-1.706667-18.900041 4.724364l-23.231353 40.292848-23.231354-40.292848c-2.492768-4.331313-7.087838-7.087838-12.205252-7.087839-4.986828 0-9.711192 2.624646-12.205253 7.087839a14.114909 14.114909 0 0 0 0 14.043798l15.356121 26.643394h-24.281212c-7.743354 0-14.043798 6.299152-14.043798 14.043798 0 7.743354 6.299152 14.043798 14.043798 14.043798h42.392566v29.530505h-42.392566c-7.743354 0-14.043798 6.300444-14.043798 14.043798s6.299152 14.043798 14.043798 14.043798h42.392566v25.724121c0 7.743354 6.299152 14.043798 14.043798 14.043798s14.043798-6.300444 14.043798-14.043798v-25.724121h42.392566c4.986828 0 9.711192-2.625939 12.205252-7.087839a14.114909 14.114909 0 0 0 0-14.043798c-2.362182-4.331313-7.086545-6.95596-12.073374-6.955959z" fill="#FFBA5A" p-id="4210"></path><path d="M487.59596 407.607596c-134.004364 0-253.046949-29.794263-329.170748-75.993212v585.761616c0 36.880808 29.924848 66.805657 66.805657 66.805657h524.730182c36.879515 0 66.805657-29.924848 66.805656-66.805657V331.482505c-76.123798 46.330828-195.166384 76.125091-329.170747 76.125091z" fill="#FF4545" p-id="4211"></path><path d="M449.664 784.289616h-83.211636v-37.143273h83.211636v-25.856h-83.211636v-37.143272h67.330585L333.77099 524.549172h90.561939l32.81196 72.448c16.407273 35.830949 20.212364 45.28097 30.581656 68.11798h2.624647c10.762343-22.83701 15.488-34.124283 30.580364-68.11798l31.892686-72.448h88.855273l-100.011959 159.597899h67.330585v37.143272h-82.422949v25.856h82.422949v37.143273h-82.422949v62.999273h-76.780606v-62.999273h-0.130586z" fill="#FFFFFF" p-id="4212"></path></svg>
<svg  style="display:none" t="1508761176637" id="cry" class="icon"  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6620" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M512 0C229.2 0 0 229.2 0 512s229.2 512 512 512 512-229.2 512-512S794.8 0 512 0z m216.4 77.3c7.6-8 20.2-8.4 28.3-0.8l69 65c8 7.6 8.4 20.2 0.8 28.3-3.9 4.2-9.2 6.3-14.6 6.3-4.9 0-9.8-1.8-13.7-5.4l-69-65c-8-7.7-8.3-20.4-0.8-28.4zM479.7 355.8l25.6-40.9c2.3-3.7 7.3-4.9 11-2.5 1 0.6 1.9 1.5 2.5 2.5l25.6 40.9c2.3 3.7 1.2 8.7-2.5 11-1.3 0.8-2.7 1.2-4.2 1.2h-51.1c-4.4 0-8-3.6-8-8-0.2-1.5 0.3-3 1.1-4.2zM198.2 141.5l68.6-65c8-7.6 20.7-7.3 28.3 0.8 7.6 8 7.3 20.7-0.8 28.3l-68.6 65c-3.9 3.7-8.8 5.5-13.7 5.5-5.3 0-10.6-2.1-14.5-6.2-7.6-8.2-7.3-20.8 0.7-28.4z m185.8 245c0 17.4-14.1 31.5-31.5 31.5-14.7 0-27-10-30.5-23.6V873c0 31.5-25.5 57-57 57s-57-25.5-57-57V387v-1 0.5c0 17.4-14.1 31.5-31.5 31.5S145 403.9 145 386.5v-0.5c0-66.3 53.7-120 120-120s120 53.7 120 120h-1v0.5z m201.4 496.3c-0.2 0.3-0.3 0.5-0.5 0.8-0.3 0.5-0.6 1-0.9 1.4l-0.9 1.5c-0.3 0.5-0.6 0.9-0.9 1.4-0.3 0.5-0.6 1-1 1.4-0.3 0.5-0.6 0.9-0.9 1.4-0.3 0.5-0.6 0.9-1 1.4-0.3 0.4-0.6 0.9-0.9 1.3-0.3 0.5-0.7 0.9-1 1.4-0.3 0.4-0.6 0.9-1 1.3-0.3 0.4-0.7 0.9-1 1.3-0.3 0.4-0.6 0.8-1 1.2-0.3 0.4-0.7 0.9-1 1.3-0.3 0.4-0.7 0.8-1 1.2-0.4 0.4-0.7 0.8-1.1 1.2-0.3 0.4-0.7 0.8-1 1.2-0.4 0.4-0.7 0.8-1.1 1.2-0.3 0.4-0.7 0.8-1 1.1-0.4 0.4-0.7 0.8-1.1 1.2-0.3 0.4-0.7 0.7-1 1.1l-1.1 1.1c-0.4 0.3-0.7 0.7-1.1 1-0.4 0.4-0.8 0.7-1.1 1.1-0.4 0.3-0.7 0.7-1.1 1-0.4 0.3-0.8 0.7-1.1 1-0.4 0.3-0.7 0.6-1.1 1-0.4 0.3-0.8 0.7-1.2 1-0.4 0.3-0.7 0.6-1.1 0.9l-1.2 0.9c-0.4 0.3-0.7 0.6-1.1 0.9l-1.2 0.9c-0.4 0.3-0.7 0.6-1.1 0.8-0.4 0.3-0.8 0.6-1.2 0.8-0.4 0.3-0.8 0.5-1.1 0.8-0.4 0.3-0.8 0.5-1.2 0.8-0.4 0.2-0.8 0.5-1.2 0.7-0.4 0.3-0.8 0.5-1.2 0.7-0.4 0.2-0.8 0.5-1.2 0.7-0.4 0.2-0.8 0.5-1.3 0.7l-1.2 0.6c-0.4 0.2-0.9 0.4-1.3 0.6l-1.2 0.6c-0.4 0.2-0.9 0.4-1.3 0.6-0.4 0.2-0.8 0.4-1.2 0.5-0.4 0.2-0.9 0.4-1.3 0.5-0.4 0.2-0.8 0.3-1.2 0.5-0.4 0.2-0.9 0.3-1.3 0.5-0.4 0.1-0.8 0.3-1.2 0.4-0.5 0.2-0.9 0.3-1.4 0.4-0.4 0.1-0.8 0.3-1.2 0.4-0.5 0.1-0.9 0.3-1.4 0.4l-1.2 0.3c-0.5 0.1-0.9 0.2-1.4 0.3l-1.2 0.3-1.5 0.3c-0.4 0.1-0.8 0.2-1.2 0.2-0.5 0.1-1 0.2-1.5 0.2-0.4 0.1-0.7 0.1-1.1 0.2-0.5 0.1-1.1 0.1-1.6 0.2-0.4 0-0.7 0.1-1.1 0.1-0.6 0.1-1.2 0.1-1.8 0.1-0.3 0-0.6 0-0.9 0.1-0.9 0-1.8 0.1-2.7 0.1s-1.8 0-2.7-0.1c-0.3 0-0.6 0-0.9-0.1-0.6 0-1.2-0.1-1.8-0.1-0.4 0-0.7-0.1-1.1-0.1-0.5-0.1-1.1-0.1-1.6-0.2-0.4 0-0.7-0.1-1.1-0.2-0.5-0.1-1-0.1-1.5-0.2-0.4-0.1-0.8-0.1-1.2-0.2l-1.5-0.3-1.2-0.3c-0.5-0.1-0.9-0.2-1.4-0.3l-1.2-0.3c-0.5-0.1-0.9-0.2-1.4-0.4-0.4-0.1-0.8-0.3-1.2-0.4-0.5-0.1-0.9-0.3-1.4-0.4-0.4-0.1-0.8-0.3-1.2-0.4-0.4-0.2-0.9-0.3-1.3-0.5s-0.8-0.3-1.2-0.5c-0.4-0.2-0.9-0.4-1.3-0.5-0.4-0.2-0.8-0.4-1.2-0.5-0.4-0.2-0.9-0.4-1.3-0.6l-1.2-0.6c-0.4-0.2-0.9-0.4-1.3-0.6l-1.2-0.6c-0.4-0.2-0.8-0.5-1.3-0.7-0.4-0.2-0.8-0.5-1.2-0.7-0.4-0.2-0.8-0.5-1.2-0.7-0.4-0.2-0.8-0.5-1.2-0.7-0.4-0.3-0.8-0.5-1.2-0.8-0.4-0.3-0.8-0.5-1.1-0.8-0.4-0.3-0.8-0.6-1.2-0.8-0.4-0.3-0.8-0.5-1.1-0.8l-1.2-0.9c-0.4-0.3-0.7-0.6-1.1-0.9l-1.2-0.9c-0.4-0.3-0.7-0.6-1.1-0.9-0.4-0.3-0.8-0.7-1.2-1-0.4-0.3-0.7-0.6-1.1-1-0.4-0.3-0.8-0.7-1.2-1-0.4-0.3-0.7-0.7-1.1-1-0.4-0.4-0.8-0.7-1.1-1.1-0.4-0.3-0.7-0.7-1.1-1l-1.1-1.1c-0.3-0.4-0.7-0.7-1-1.1-0.4-0.4-0.7-0.8-1.1-1.2-0.3-0.4-0.7-0.7-1-1.1-0.4-0.4-0.7-0.8-1.1-1.2-0.3-0.4-0.7-0.8-1-1.2-0.4-0.4-0.7-0.8-1.1-1.2-0.3-0.4-0.7-0.8-1-1.2-0.3-0.4-0.7-0.9-1-1.3-0.3-0.4-0.7-0.8-1-1.2-0.3-0.4-0.7-0.9-1-1.3-0.3-0.4-0.6-0.9-1-1.3-0.3-0.5-0.7-0.9-1-1.4-0.3-0.4-0.6-0.9-0.9-1.3-0.3-0.5-0.7-0.9-1-1.4-0.3-0.4-0.6-0.9-0.9-1.4-0.3-0.5-0.6-1-1-1.4-0.3-0.5-0.6-0.9-0.9-1.4l-0.9-1.5c-0.3-0.5-0.6-0.9-0.9-1.4-0.2-0.3-0.3-0.5-0.5-0.8-19.5-32.4-31.6-77.5-31.6-127.5 0-98.5 47-178.3 105-178.3s105 79.8 105 178.3c0.5 50-11.6 95.1-31.1 127.5zM846.5 418c-14.7 0-27-10-30.5-23.6V873c0 31.5-25.5 57-57 57s-57-25.5-57-57V387v-1 0.5c0 17.4-14.1 31.5-31.5 31.5S639 403.9 639 386.5v-0.5c0-66.3 53.7-120 120-120s120 53.7 120 120h-1v0.5c0 17.4-14.1 31.5-31.5 31.5z" fill="#FFE167" p-id="6621"></path><path d="M486.4 368h51.1c1.5 0 3-0.4 4.2-1.2 3.7-2.3 4.9-7.3 2.5-11l-25.6-40.9c-0.6-1-1.5-1.9-2.5-2.5-3.7-2.3-8.7-1.2-11 2.5l-25.6 40.9c-0.8 1.3-1.2 2.7-1.2 4.2 0.1 4.4 3.7 8 8.1 8z" fill="#FFE167" p-id="6622"></path><path d="M486.4 368h51.1c1.5 0 3-0.4 4.2-1.2 3.7-2.3 4.9-7.3 2.5-11l-25.6-40.9c-0.6-1-1.5-1.9-2.5-2.5-3.7-2.3-8.7-1.2-11 2.5l-25.6 40.9c-0.8 1.3-1.2 2.7-1.2 4.2 0.1 4.4 3.7 8 8.1 8z" fill="#F1672F" p-id="6623"></path><path d="M212 176c4.9 0 9.9-1.8 13.7-5.5l68.6-65c8-7.6 8.4-20.3 0.8-28.3-7.6-8-20.3-8.4-28.3-0.8l-68.6 65c-8 7.6-8.4 20.3-0.8 28.3 4 4.2 9.3 6.3 14.6 6.3zM798.3 170.6c3.9 3.6 8.8 5.4 13.7 5.4 5.3 0 10.6-2.1 14.6-6.3 7.6-8 7.2-20.7-0.8-28.3l-69-65c-8-7.6-20.7-7.2-28.3 0.8-7.6 8-7.2 20.7 0.8 28.3l69 65.1zM512 577c-58 0-105 79.8-105 178.3 0 50 12.1 95.1 31.6 127.5 18.9-31.4 44.8-50.8 73.4-50.8s54.5 19.4 73.4 50.8c19.5-32.4 31.6-77.5 31.6-127.5 0-98.5-47-178.3-105-178.3z" fill="#302323" p-id="6624"></path><path d="M512 832c-28.6 0-54.5 19.4-73.4 50.8 0.2 0.3 0.3 0.5 0.5 0.8 0.3 0.5 0.6 1 0.9 1.4l0.9 1.5c0.3 0.5 0.6 0.9 0.9 1.4 0.3 0.5 0.6 1 1 1.4 0.3 0.5 0.6 0.9 0.9 1.4 0.3 0.5 0.7 0.9 1 1.4 0.3 0.4 0.6 0.9 0.9 1.3 0.3 0.5 0.7 0.9 1 1.4 0.3 0.4 0.6 0.9 1 1.3 0.3 0.4 0.7 0.9 1 1.3 0.3 0.4 0.6 0.8 1 1.2 0.3 0.4 0.7 0.9 1 1.3 0.3 0.4 0.7 0.8 1 1.2 0.4 0.4 0.7 0.8 1.1 1.2 0.3 0.4 0.7 0.8 1 1.2 0.4 0.4 0.7 0.8 1.1 1.2 0.3 0.4 0.7 0.8 1 1.1 0.4 0.4 0.7 0.8 1.1 1.2 0.3 0.4 0.7 0.7 1 1.1l1.1 1.1c0.4 0.3 0.7 0.7 1.1 1 0.4 0.4 0.8 0.7 1.1 1.1 0.4 0.3 0.7 0.7 1.1 1 0.4 0.3 0.8 0.7 1.2 1 0.4 0.3 0.7 0.6 1.1 1 0.4 0.3 0.8 0.7 1.2 1 0.4 0.3 0.7 0.6 1.1 0.9l1.2 0.9c0.4 0.3 0.7 0.6 1.1 0.9l1.2 0.9c0.4 0.3 0.7 0.6 1.1 0.8 0.4 0.3 0.8 0.6 1.2 0.8 0.4 0.3 0.8 0.5 1.1 0.8 0.4 0.3 0.8 0.5 1.2 0.8 0.4 0.2 0.8 0.5 1.2 0.7 0.4 0.3 0.8 0.5 1.2 0.7 0.4 0.2 0.8 0.5 1.2 0.7 0.4 0.2 0.8 0.5 1.3 0.7l1.2 0.6c0.4 0.2 0.9 0.4 1.3 0.6l1.2 0.6c0.4 0.2 0.9 0.4 1.3 0.6 0.4 0.2 0.8 0.4 1.2 0.5 0.4 0.2 0.9 0.4 1.3 0.5 0.4 0.2 0.8 0.3 1.2 0.5 0.4 0.2 0.9 0.3 1.3 0.5 0.4 0.1 0.8 0.3 1.2 0.4 0.5 0.2 0.9 0.3 1.4 0.4 0.4 0.1 0.8 0.3 1.2 0.4 0.5 0.1 0.9 0.3 1.4 0.4l1.2 0.3c0.5 0.1 0.9 0.2 1.4 0.3l1.2 0.3 1.5 0.3c0.4 0.1 0.8 0.2 1.2 0.2 0.5 0.1 1 0.2 1.5 0.2 0.4 0.1 0.7 0.1 1.1 0.2 0.5 0.1 1.1 0.1 1.6 0.2 0.4 0 0.7 0.1 1.1 0.1 0.6 0.1 1.2 0.1 1.8 0.1 0.3 0 0.6 0 0.9 0.1 0.9 0 1.8 0.1 2.7 0.1s1.8 0 2.7-0.1c0.3 0 0.6 0 0.9-0.1 0.6 0 1.2-0.1 1.8-0.1 0.4 0 0.7-0.1 1.1-0.1 0.5-0.1 1.1-0.1 1.6-0.2 0.4 0 0.7-0.1 1.1-0.2 0.5-0.1 1-0.1 1.5-0.2 0.4-0.1 0.8-0.1 1.2-0.2l1.5-0.3 1.2-0.3c0.5-0.1 0.9-0.2 1.4-0.3l1.2-0.3c0.5-0.1 0.9-0.2 1.4-0.4 0.4-0.1 0.8-0.3 1.2-0.4 0.5-0.1 0.9-0.3 1.4-0.4 0.4-0.1 0.8-0.3 1.2-0.4 0.4-0.2 0.9-0.3 1.3-0.5s0.8-0.3 1.2-0.5c0.4-0.2 0.9-0.4 1.3-0.5 0.4-0.2 0.8-0.4 1.2-0.5 0.4-0.2 0.9-0.4 1.3-0.6l1.2-0.6c0.4-0.2 0.9-0.4 1.3-0.6l1.2-0.6c0.4-0.2 0.8-0.5 1.3-0.7 0.4-0.2 0.8-0.5 1.2-0.7 0.4-0.2 0.8-0.5 1.2-0.7 0.4-0.2 0.8-0.5 1.2-0.7 0.4-0.3 0.8-0.5 1.2-0.8 0.4-0.3 0.8-0.5 1.1-0.8 0.4-0.3 0.8-0.6 1.2-0.8 0.4-0.3 0.8-0.5 1.1-0.8l1.2-0.9c0.4-0.3 0.7-0.6 1.1-0.9l1.2-0.9c0.4-0.3 0.7-0.6 1.1-0.9 0.4-0.3 0.8-0.6 1.2-1 0.4-0.3 0.7-0.6 1.1-1 0.4-0.3 0.8-0.7 1.1-1 0.4-0.3 0.7-0.7 1.1-1 0.4-0.4 0.8-0.7 1.1-1.1 0.4-0.3 0.7-0.7 1.1-1l1.1-1.1c0.4-0.4 0.7-0.7 1-1.1 0.4-0.4 0.7-0.8 1.1-1.2 0.3-0.4 0.7-0.7 1-1.1 0.4-0.4 0.7-0.8 1.1-1.2 0.3-0.4 0.7-0.8 1-1.2 0.4-0.4 0.7-0.8 1.1-1.2 0.3-0.4 0.7-0.8 1-1.2 0.3-0.4 0.7-0.9 1-1.3 0.3-0.4 0.7-0.8 1-1.2 0.3-0.4 0.7-0.9 1-1.3 0.3-0.4 0.6-0.9 1-1.3 0.3-0.5 0.7-0.9 1-1.4 0.3-0.4 0.6-0.9 0.9-1.3 0.3-0.5 0.7-0.9 1-1.4 0.3-0.5 0.6-0.9 0.9-1.4 0.3-0.5 0.6-1 1-1.4 0.3-0.5 0.6-0.9 0.9-1.4l0.9-1.5c0.3-0.5 0.6-1 0.9-1.4 0.2-0.3 0.3-0.5 0.5-0.8-19.4-31.4-45.3-50.8-73.9-50.8z" fill="#EF5267" p-id="6625"></path><path d="M321 386c0-30.9-25.1-56-56-56s-56 25.1-56 56h-1v487c0 31.5 25.5 57 57 57s57-25.5 57-57V394.4c-0.7-2.5-1-5.2-1-7.9v-0.5zM815 386c0-30.9-25.1-56-56-56s-56 25.1-56 56h-1v487c0 31.5 25.5 57 57 57s57-25.5 57-57V394.4c-0.7-2.5-1-5.2-1-7.9v-0.5z" fill="#49A9EE" p-id="6626"></path><path d="M265 266c-66.3 0-120 53.7-120 120v0.5c0 17.4 14.1 31.5 31.5 31.5s31.5-14.1 31.5-31.5v-0.5h1c0-30.9 25.1-56 56-56s56 25.1 56 56v0.5c0 2.7 0.3 5.4 1 7.9 3.5 13.6 15.8 23.6 30.5 23.6 17.4 0 31.5-14.1 31.5-31.5v-0.5h1c0-66.3-53.7-120-120-120zM879 386c0-66.3-53.7-120-120-120s-120 53.7-120 120v0.5c0 17.4 14.1 31.5 31.5 31.5s31.5-14.1 31.5-31.5v-0.5h1c0-30.9 25.1-56 56-56s56 25.1 56 56v0.5c0 2.7 0.3 5.4 1 7.9 3.5 13.6 15.8 23.6 30.5 23.6 17.4 0 31.5-14.1 31.5-31.5v-0.5h1z" fill="#302323" p-id="6627"></path></svg>
<svg style="display:none"  t="1508762712245" id="happy" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2364" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M719.62819 946.809905L585.142857 812.30019a291.108571 291.108571 0 0 0 32.646095-15.993904l109.568-109.568c5.144381-9.216 12.702476-18.139429 16.822858-27.940572l130.608761 132.85181a96.743619 96.743619 0 0 1 26.745905 51.029333C977.456762 753.39581 1024 638.390857 1024 512 1024 229.229714 794.770286 0 512 0S0 229.229714 0 512s229.229714 512 512 512c85.211429 0 165.449143-20.992 236.129524-57.831619a95.865905 95.865905 0 0 1-28.501334-19.358476z" fill="#FBD971" p-id="2365"></path><path d="M292.571429 365.714286m-146.285715 0a146.285714 146.285714 0 1 0 292.571429 0 146.285714 146.285714 0 1 0-292.571429 0Z" fill="#FFFFFF" p-id="2366"></path><path d="M731.428571 365.714286m-146.285714 0a146.285714 146.285714 0 1 0 292.571429 0 146.285714 146.285714 0 1 0-292.571429 0Z" fill="#FFFFFF" p-id="2367"></path><path d="M680.009143 749.568A286.159238 286.159238 0 0 1 585.142857 812.30019l134.485333 134.485334a97.792 97.792 0 0 0 137.923048 0l17.237333-17.237334a97.792 97.792 0 0 0 0-137.923047l-130.608761-130.608762c-14.457905 34.377143-38.204952 62.585905-64.170667 88.551619z" fill="#FB7B76" p-id="2368"></path><path d="M292.571429 365.714286m-73.142858 0a73.142857 73.142857 0 1 0 146.285715 0 73.142857 73.142857 0 1 0-146.285715 0Z" fill="#AF8066" p-id="2369"></path><path d="M731.428571 365.714286m-73.142857 0a73.142857 73.142857 0 1 0 146.285715 0 73.142857 73.142857 0 1 0-146.285715 0Z" fill="#AF8066" p-id="2370"></path><path d="M735.792762 766.488381c-16.310857-12.312381-31.134476-22.723048-44.422095-28.891429-3.779048 3.998476-7.460571 8.070095-11.361524 11.971048-9.045333 9.045333-18.895238 17.212952-29.110857 24.966095 5.38819 5.266286 12.629333 7.43619 19.529143 6.875429 17.968762 8.313905 72.996571 51.248762 100.912761 79.164952a24.30781 24.30781 0 0 0 34.474667 0 24.356571 24.356571 0 0 0 0-34.474666c-16.213333-16.213333-45.007238-40.740571-70.022095-59.611429z" fill="#E64C3C" p-id="2371"></path><path d="M448.292571 853.162667c-48.298667 0-96.377905-9.264762-140.702476-27.745524a24.380952 24.380952 0 1 1 18.773334-45.007238c74.410667 30.98819 161.060571 32.01219 237.787428 2.82819 78.433524-29.842286 138.532571-86.820571 169.179429-160.377905a24.380952 24.380952 0 0 1 45.007238 18.773334c-35.84 86.040381-105.764571 152.551619-196.827429 187.196952a375.466667 375.466667 0 0 1-133.217524 24.332191z" fill="#F0C419" p-id="2372"></path></svg>
</div>
<div id="con">
  <div id="ajax-btn" style="display:none">猛戳有奖</div>
  <p id="para" style="display:none" ></p>
</div>
<script>
;(function(main) {
	var args = {};
	window.onload = function() {
		main(args);
	};
})(function(args) {

	'use strict';


	var para = document.querySelector("#para");
	var con = document.querySelector("#con");
	var cry = document.querySelector("#cry");
	var hongbao = document.querySelector("#hongbao");
	var happy = document.querySelector("#happy");
	var mss;
	var code =0;
	var timer;
	var t;
	var btn = document.querySelector("#ajax-btn");

	getCount();
	timer = setInterval(function(){
		para.style.display = 'block';
		if(code == 1 && mss>0){
				para.innerHTML = "距离抽奖还剩" + formatDuring(mss);
			mss-= 1000;
		}else if(code ==1){
			// clearTimeout(t);
			btn.style.display = "block";
			para.style.display="none";
			console.log("clearTimeout");
		}else if(code = -1){
			btn.style.display = "block";
			// console.log("display");
		}
	},1000);

	function getCount() {
		loadXMLDoc("/queryCountDown", function () {
			if (xmlhttp.readyState==4 && xmlhttp.status==200){
				var obj = JSON.parse(xmlhttp.responseText);
			    mss = Math.floor(obj.message/1000)*1000;
			    code = obj.code;
			    iCount(mss);
			}		
		})
	}

	function formatDuring(mss) {
	    // var days = parseInt(mss / (1000 * 60 * 60 * 24));
	    // var hours = parseInt((mss % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
	    var minutes = parseInt((mss % (1000 * 60 * 60)) / (1000 * 60));
	    var seconds = (mss % (1000 * 60)) / 1000;
	    // return days + " 天 " + hours + " 小时 " + minutes + " 分钟 " + seconds + " 秒 ";
	    if(mss >= 60000){
	    	return minutes + " 分钟 " + seconds + " 秒 ";
	    }else{
	    	return seconds + " 秒 ";
	    }
	}

	var xmlhttp;
	function loadXMLDoc(url,cfunc)
	{
	if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
	  xmlhttp=new XMLHttpRequest();
	}
	else{// code for IE6, IE5
	  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.onreadystatechange=cfunc;
	xmlhttp.open("GET",url,true);
	xmlhttp.send();
	}
	function getAjax(){
		loadXMLDoc("/luckDraw",function(){
			if (xmlhttp.readyState==4 && xmlhttp.status==200){

				if(xmlhttp.responseText == ""){
					cry.style.display = "block";
					con.innerHTML = "<h1>很遗憾，你已经参与了抽奖，不能再进行抽奖了</h1>";
					return;
				}
			    var obj = JSON.parse(xmlhttp.responseText);
			    // console.log(data);
			    var data;
			    if (obj.code == -1) {
			    	data = '很遗憾，没有抽到奖哦~';
					cry.style.display = "block";
			    }else if (obj.code == 0) {
			    	switch(obj.message.prizeLevel){
                        case -2:
                            data="很遗憾，奖池已经空了";
                            happy.style.display = "block";
                            break;
			    		case 0:
				    		data = "亲，你可以再抽一次奖哦~";
							happy.style.display = "block";
				    		break;
				    	case 1:
				    		data = "恭喜你！一等奖！";
							hongbao.style.display = "block";
				    		break;
				    	case 2:
				    		data = "哇偶！二等奖！";
							hongbao.style.display = "block";
				    		break;
				    	case 3:
				    		data = "不赖嘛！三等奖！";
							hongbao.style.display = "block";
				    		break;
				    	case 4:
				    		data = "很遗憾，没有抽到奖哦~";
							cry.style.display = "block";
				    		break;
			    	}
			    }
			    con.innerHTML = "<h1>"+data+"</h1>"
			}
		});
	}

	var Box = function(x, y, w, h, s) {
		this.x = x;
		this.y = y;
		this.w = w;
		this.h = h;
		this.s = s;
		this.a = Math.random() * Math.PI * 2;
		this.hue = Math.random() * 360;
	};

	Box.prototype = {
		constructor: Box,
		update: function() {
			this.a += Math.random() * 0.5 - 0.25;
			this.x += Math.cos(this.a) * this.s;
			this.y += Math.sin(this.a) * this.s;
			this.hue += 5;
			if(this.x > WIDTH) this.x = 0;
			else if(this.x < 0) this.x = WIDTH;
			if(this.y > HEIGHT) this.y = 0;
			else if(this.y < 0) this.y = HEIGHT;
		},
		render: function(ctx) {
			ctx.save();
			ctx.fillStyle = 'hsla(' + this.hue + ', 100%, 50%, 1)';
			ctx.translate(this.x, this.y);
			ctx.rotate(this.a);
			ctx.fillRect(-this.w, -this.h / 2, this.w, this.h);
			ctx.restore();
		}
	};

	var Circle = function(x, y, tx, ty, r) {
		this.x = x;
		this.y = y;
		this.ox = x;
		this.oy = y;
		this.tx = tx;
		this.ty = ty;
		this.lx = x;
		this.ly = y;
		this.r = r;
		this.br = r;
		this.a = Math.random() * Math.PI * 2;
		this.sx = Math.random() * 0.5;
		this.sy = Math.random() * 0.5;
		this.o = Math.random() * 1;
		this.delay = Math.random() * 0;
		this.delayCtr = 0;
		this.hue = Math.random() * 360;
	};

	Circle.prototype = {
		constructor: Circle,
		update: function() {

			if(this.delayCtr < this.delay) {
				this.delayCtr++;
				return;
			}

			this.hue += 1;
			this.a += 0.1;

			this.lx = this.x;
			this.ly = this.y;

			if(!clickToggle) {
				this.x += (this.tx - this.x) * this.sx;
				this.y += (this.ty - this.y) * this.sy;
			} else {
				this.x += (this.ox - this.x) * this.sx;
				this.y += (this.oy - this.y) * this.sy;
			}


			this.r = this.br + Math.cos(this.a) * (this.br * 0.5);
		},
		render: function(ctx) {

			ctx.save();
			ctx.globalAlpha = this.o;
			ctx.fillStyle = 'hsla(' + this.hue + ', 100%, 50%, 1)';
			ctx.translate(this.x, this.y);
			ctx.beginPath();
			ctx.arc(0, 0, this.r, 0, Math.PI * 2);
			ctx.fill();
			ctx.restore();

			if(clickToggle) {
				ctx.save();
				ctx.strokeStyle = 'hsla(' + this.hue + ', 100%, 50%, 1)';
				ctx.beginPath();
				ctx.moveTo(this.lx, this.ly);
				ctx.lineTo(this.x, this.y);
				ctx.stroke();
				ctx.restore();
			}


		}
	};

	var txtCanvas = document.createElement('canvas');
	var txtCtx = txtCanvas.getContext('2d');

	var c = document.getElementById('c');
	var ctx = c.getContext('2d');

	var WIDTH = c.width = window.innerWidth;
	var HEIGHT = c.height = window.innerHeight;
	var imgData = null;
	var idx = null;
	var skip = 4;
	var circles = [];
	var circle = null;
	var a = null;
	var clickToggle = false;
	var boxList = [];
	var box = null;

	txtCanvas.width = WIDTH;
	txtCanvas.height = HEIGHT;

	txtCtx.font = 'bold 230px Sans-serif';
	txtCtx.textAlign = 'center';
	txtCtx.baseline = 'middle';
	txtCtx.fillText('爪 哇', WIDTH / 2, HEIGHT / 2);

	ctx.font = 'bold 12px Monospace';
	ctx.textAlign = 'center';
	ctx.baseline = 'middle';

	imgData = txtCtx.getImageData(0, 0, WIDTH, HEIGHT).data;

	for(var y = 0; y < HEIGHT; y += 9) {
		for(var x = 0; x < WIDTH; x += 9) {
			idx = (x + y * WIDTH) * 4 - 1;
			if(imgData[idx] > 0) {
				a = Math.PI * 2 * Math.random();
				circle = new Circle(
					WIDTH / 2 + Math.cos(a) * WIDTH,
					HEIGHT / 2 + Math.sin(a) * WIDTH,
					x, 
					y,
					Math.random() * 6
				);
				circles.push(circle);
			}
		}
	}

	for(var b = 0; b < 10; b++) {
		box = new Box(
				WIDTH * Math.random(),
				HEIGHT * Math.random(),
				5,
				2,
				5 + Math.random() * 5
			);
		boxList.push(box);
	}
			
	// function iCount(mss) {
	
	// 	t = setTimeout(function(){
	// 		document.addEventListener('click', function(e) {
	// 			clearInterval(timer);
	// 			para.style.display = 'none';
	// 			if(!clickToggle){
	// 			  getAjax();
	// 			}
	// 			para.style.display = 'block';
	// 			clickToggle = true;
	// 		});
	// 	},mss)
	// }
	function iCount(mss) {
	
		t = setTimeout(function(){
			clearInterval(timer);
			console.log("setTimeout");
		},mss+2000)
	}
	btn.addEventListener('click', function(e) {

		// para.style.display = 'none';
		if(!clickToggle){
		  getAjax();
		btn.remove();
		}
		para.style.display = 'block';
		// btn.style.display = 'none';
		clickToggle = true;
	});


	requestAnimationFrame(function loop() {
		requestAnimationFrame(loop);

		ctx.globalCompositeOperation = 'source-over';
		ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
		ctx.fillRect(0, 0, WIDTH, HEIGHT);

		ctx.fillStyle = 'white';

		ctx.globalCompositeOperation = 'lighter';

		for(var i = 0, len = circles.length; i < len; i++) {
			circle = circles[i];
			circle.update();
			circle.render(ctx);
		}

		for(var j = 0; j < boxList.length; j++) {
			box = boxList[j];
			box.update();
			box.render(ctx);
		}

	});




});
</script>

</body>
</html>
